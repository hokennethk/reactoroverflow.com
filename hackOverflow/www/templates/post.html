<ion-view view-title="{{data.post.title}}">
  <ion-content>
     <div class="card">

       <div class="item-divider item item-avatar">
         <img src="img/avatar.jpg">
         <h2>{{data.post.author}}</h2>
         <p>{{data.post.created_at}}</p>
       </div>

       <div class="item item-body item-text-wrap">
         <img ng-if="data.post.data" class="full-image" ng-src="{{data.post.data}}">
          <div class="content" ng-bind-html='data.post.content'></div>
      
          
         <p>
           <span class="subdued">{{data.post.votes || 0}} Likes</span>
           <span class="subdued">{{data.comments.length || 0}} Comments</span>
         </p>
       </div>

       <div class="item item-divider tabs tabs-secondary tabs-icon-left">
         <div class="tab-item" ng-click="upVotePost(data.post, data.post._id)">
           <i ng-class="{data.post.isUpvoted ? 'blue icon ion-thumbsup' : 'icon ion-thumbsup'}"></i>
           Like
         </div>
         <div class="tab-item" ng-click="showComment = !showComment">
           <i class="icon ion-chatbox"></i>
           Comment
         </div>
       </div>

     </div>
     
     <form name="commentForm" ng-if="showComment" ng-submit="createComment()" class="list list-inset">
       <label class="item item-input">
         <textarea ng-model="comment.word" placeholder="What do you think?" required></textarea>
       </label>
         <button ng-disabled="commentForm.$invalid" class="button button-block button-outline button-calm">Submit</button>
     </form>
     
     <div ng-repeat="comment in data.comments" class="list card">
       <div class="item">
         {{comment._source.author}}
         <p>{{comment._source.created_at}}</p>
       </div>
       <div class="content" ng-bind-html='comment._source.content'></div>
         <div class="item tabs tabs-secondary tabs-icon-left">
          <div class="tab-item subdued">
            {{comment.votes}} Likes
          </div>
          <div class="tab-item" ng-click="upVoteComment(comment, comment._id)">
           <i ng-class="{data.post.isUpvoted ? 'blue icon ion-thumbsup' : 'icon ion-thumbsup'}"></i>
             Like
          </div>
         </div>
     </div>
  </ion-content>
</ion-view>